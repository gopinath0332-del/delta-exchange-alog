# Trading Configuration

# Supported timeframes for analysis
timeframes:
  - 5m
  - 15m
  - 1h
  - 4h
  - 1d

# Backtesting Configuration
backtesting:
  initial_capital: 100000
  # Delta Exchange fees (as of 2024)
  commission_maker: 0.0004 # 0.04% maker fee
  commission_taker: 0.0006 # 0.06% taker fee
  slippage: 0.0001 # 0.01% conservative estimate

# Risk Management Rules
risk_management:
  max_position_size: 0.1 # 10% of capital per position
  max_daily_loss: 0.02 # 2% maximum daily loss
  max_drawdown: 0.15 # 15% maximum drawdown
  max_leverage: 10 # Maximum leverage allowed

# Notification Settings
notifications:
  discord_enabled: true
  email_enabled: true
  alert_on_trade: true
  alert_on_error: true
  alert_on_position_open: true
  alert_on_position_close: true

# Terminal Settings
terminal:
  refresh_rate: 1 # seconds
  show_charts: true

# Strategy Configuration
strategies:
  cci_ema:
    cci_length: 30
    ema_length: 50
    atr_length: 20 # Updated from 14 to match Pine script
    atr_multiplier: 9.0 # Updated from 4.0 to match Pine script (partial profit target)
    # enable_partial_tp: Now controlled per-coin in .env (ENABLE_PARTIAL_TP_{COIN})
    partial_pct: 0.5 # 50% partial exit when enabled

  double_dip_rsi:
    rsi_period: 14
    long_entry_level: 50.0
    long_exit_level: 40.0
    short_entry_level: 35.0
    short_exit_level: 35.0
    require_prev_long_min_duration: true
    min_days_long: 2
    atr_length: 14
    atr_mult_tp: 4.0
    trail_atr_mult: 3.0
    # enable_partial_tp: Now controlled per-coin in .env (ENABLE_PARTIAL_TP_{COIN})
    partial_pct: 0.5

  rsi_50_ema:
    ema_length: 50
    rsi_length: 14
    rsi_entry_level: 40.0

  macd_psar_100ema:
    macd_fast: 14
    macd_slow: 26
    macd_signal: 9
    ema_length: 100
    sar_start: 0.005
    sar_increment: 0.005
    sar_max: 0.2

  rsi_200_ema:
    rsi_length: 17
    rsi_entry_level: 70
    rsi_exit_level: 35
    ema_length: 200
    atr_length: 17
    atr_multiplier_tp: 2.5
    atr_multiplier_trail: 2.5
    # enable_partial_tp: Now controlled per-coin in .env (ENABLE_PARTIAL_TP_{COIN})
    partial_pct: 0.5
    historical_days: 60 # Fetch 60 days for backtesting (480 3h candles)

  rsi_supertrend:
    rsi_length: 14
    rsi_long_level: 50.0
    atr_length: 10
    atr_multiplier: 2.0

  donchian_channel:
    trade_mode: "Both" # "Long", "Short", "Both"
    enter_period: 20 # Enter channel (highest high period)
    exit_period: 10 # Exit channel (lowest low period)
    atr_period: 16 # ATR calculation period
    atr_mult_tp: 4.0 # ATR multiplier for take profit
    atr_mult_trail: 2.0 # ATR multiplier for trailing stop
    # enable_partial_tp: Now controlled per-coin in .env (ENABLE_PARTIAL_TP_{COIN})
    partial_pct: 0.5 # 50% partial exit when enabled
    bars_per_day: 24 # For 1H timeframe
    min_long_days: 0 # Minimum long duration (set to 0 per Pine script)
    # NEW: EMA Trend Filter
    ema_length: 100 # EMA period for entry filter
    ema_source: "close" # Source for EMA calculation (close, open, high, low)

  # EMA Cross Strategy (BTC 4H)
  ema_cross:
    trade_mode: "Both" # "Long", "Short", "Both"
    fast_ema_length: 10 # Fast EMA period
    slow_ema_length: 20 # Slow EMA period
    allow_flip: true # Allow same-bar close & reverse

# Firestore Configuration (for trade journaling)
firestore:
  enabled: true # Enable/disable trade journaling to Firestore
  service_account_path: "config/firestore-service-account.json" # Path to Admin SDK service account key
  collection_name: "trades" # Firestore collection name for trade data
